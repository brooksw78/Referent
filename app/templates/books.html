{% extends "base.html" %}

{% block content %}
<h2>Books</h2>

<a href="{{ url_for('main.add_book') }}" class="btn btn-success mb-3">Add Book</a>
<a href="{{ url_for('main.book_lookup') }}" class="btn btn-outline-primary mb-3 ms-2">Search Open Library</a>

<div class="table-responsive">
  <table class="table table-striped align-middle">
    <thead>
      <tr>
        <th>Cover</th>
        <th>Title</th>
        <th>Author(s)</th>
        <th>Translator(s)</th>
        <th>Year</th>
        <th>ISBN</th>
        <th class="text-center">Referents</th>
      </tr>
    </thead>
    <tbody>
      {% for book in books %}
      <tr>
        <td style="width: 80px;">
          {% if book[4] %}
          <img src="{{ book[4] }}" alt="Cover" style="height: 75px;">
          {% else %}
          <span class="text-muted">—</span>
          {% endif %}
        </td>
        <td>
            <a href="{{ url_for('main.view_book', book_id=book[0]) }}">{{ book[1] }}</a><br>
        </td>
        <td>{{ book[5] or '—' }}</td>
        <td>{{ book[6] or '—' }}</td>
        <td>{{ book[2] or '—' }}</td>
        <td>{{ book[3] or '—' }}</td>
        <td class="text-center"><span class="badge bg-primary rounded-pill">{{ book[7] or '-' }}</span></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}