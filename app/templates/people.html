{% extends "base.html" %}

{% block content %}
<h2>People</h2>

<a href="{{ url_for('main.add_person') }}" class="btn btn-success mb-3">Add Person</a>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Wikipedia</th>
      <th class="text-center">Referents</th>
      <th>&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    {% for person in people %}
    <tr>
     <td>
        <div class="mt-1">

            <strong>{{ person[1] }}</strong>    
        
        </div>
        </td>
      <td>{{ person[2] or '—' }}</td>
      <td>
        {% if person[3] %}
          <a href="{{ person[3] }}" target="_blank">View</a>
        {% else %}
          <span class="text-muted">—</span>
        {% endif %}
      </td>
      <td align="center">
        <a href="{{ url_for('main.citations_for_person', person_id=person[0]) }}"><span class="badge bg-primary rounded-pill"><strong> {{ person[4] }} </strong></span></a>
      </td>
      <td align="right">
        <div class="mt-1">
            <a href="{{ url_for('main.edit_person', person_id=person[0]) }}" class="btn btn-sm btn-outline-primary">Edit</a>
            &nbsp;
            <form action="{{ url_for('main.delete_person', person_id=person[0]) }}" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('Delete this person?')">Delete</button>
            </form>
        </div>
        </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}